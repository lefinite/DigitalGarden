---
{"dg-publish":true,"permalink":"/project////2022/2022/","dgHomeLink":false,"dgPassFrontmatter":false}
---


### SDK
目睹直播SDK/API遇到的问题
- SDK和系统自己调用同一套API，导致接口经常会变，接口一变，SDK就失效了。之前上报直接失效导致SDK观看直接无法计费了。
- 控制台视频有多个分辨率，选择了其中一个分辨率使用，但是SDK拿到了所有分辨率地址，并随机拿了个地址播放
- 踢人逻辑，SDK无法满足，必须要SDK更新。所以需要一次性搞定
- 之前直播是直接通过后端拿到流地址进行播放的，需要做一层包装，避免客户传入外部地址的情况，也避免用户用自己播放器来盗流的情况，必须要用我们的播放器。之前碧桂园就是用自己播放器，还反过来说我们统计不到时长。
- 原本websdk加载视频完全依赖于用户传入的媒体地址，更改后强依赖于isLive标记，sdk会自行根据isLive选择视频来源，如果客户在之前的对接中没有按照文档说明指定isLive字段，可能存在播放来源不用户符合预期的情况



SDK需要注意的点
- 上报数据的标识要区分
- 虚拟化观众参与活动的前提是登录，所以SDK中所有地方都要鉴权
- 全屏播放能力
- 多分辨率场景，SDK目前默认显示服务端配置的默认字段，会显示成hd啥的，需要显示成我们定义的名称
- SaaS更新，SDK更新不及时导致SDK出错，比如抽奖报名加了字段，但是SDK没更新，会导致报名失败
- 确保进入活动前观众有身份
- 兼容范围是否要确认，和SaaS一样；APP就是近两年机型，测试可以就几款测试，但是有问题要修。
- 很多客户有对接上的错误，希望有demo供参考
- token啥的，账号到期了是否也就用不了了。没资源了自然看不了了。要控制住这个。

目睹APPSDK参考文档
https://jira.mudutv.com/browse/MDL-1272








